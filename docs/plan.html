<!DOCTYPE html>
<html>
<head>
	<style>
		body {
			float: left;
			margin: 5ex 10ex;
			background-color: #f0f0f0;
			font-family: sans-serif;
			color: #444;
			position: relative;
		}
		h1 {
			font-weight: normal;
		}
		li {
			padding-left: 1em;
		}
		.day {
			width: 100%;
		}
		h1, h2, h3, p, ul, li, pre {
			width: 60%;
			min-width: 350px
		}
		ul {
			margin: 0;
			padding-left: 2em;
		}
		li {
			padding-left: 0.5em;
		}
		img {
			display: block;
			width: 30%;
			padding: 10px 0;
		}
		pre {
			border-radius: 0.5em;
			padding: 1em;
			background-color: #d0e0f0;
		}
	</style>
</head>
<body>
<h1 style="text-align:center; width:100%;">Project Log - SDD Task 2</h1>

<h1 class="day">14th May 2019</h1>
<img src="s1_20190514.png">
<h3>What does a cinema booking site need to do?</h3>
<ul>
	<li>Check how many seats are left.</li>
	<li>List the sessions at different cinemas.</li>
</ul>
<h3>Reservations:</h3>
<ul>
	<li>Collect Names</li>
	<li>Verification? Email...?</li>
	<li>Seat IDs</li>
</ul>
<h3>Main Page:</h3>
<h3>Sessions:</h3>
<ul>
	<li>By Cinema</li>
	<li>By Movie</li>
</ul>
<h3>Session Page / Booking Page:</h3>
<ul>
	<li>Available seats/ seating diagram</li>
	<li>Prices</li>
</ul>
<h3>Methods for page generation:</h3>
<ul>
	<li>AJAX : More Tricky, Modular, Demo of dynamic ts execution (stdout of file as output?? or import module??)</li>
	<li>Server Pre-Rendered : Simple, Not so modular, Demo of TypeScriptPages</li>
</ul>
<h3>Visits:</h3>
<ul>
	<li>https://stackoverflow.com/questions/3451111/unzipping-files-in-python/3451150</li>
	<li>https://stackabuse.com/download-files-with-python/</li>
	<li>https://www.tutorialspoint.com/How-can-I-create-a-directory-if-it-does-not-exist-using-Python</li>
</ul>
<h3>Work Done:</h3>
<ul>
	<li>Setup Script (Install Dependencies)</li>
	<li>Start Script</li>
	<li>File Directory Structure</li>
	<li>Boilerplate</li>
</ul>
<h3>Algorithms:</h3>
<pre><code>BEGIN MAIN
  LAUNCH WebServer
END
</code></pre>

<h1 class="day">15th May 2019</h1>
<img src="s2_20190515.png">
<h3>Algorithms:</h3>
<pre><code>BEGIN GET Sessions
	GET Venues
	FOR each venue, get sessions
END
</code></pre>
<h3>Pages</h3>
<ul>
	<li>Login</li>
	<li>Home Screen - Select based on Session or Location</li>
	<li>Session Booking</li>
	<li>Available Sessions</li>
</ul>
<h3>Work Done:</h3>
<ul>
	<li>HomePage</li>
</ul>

<h1 class="day">16th May 2019</h1>
<h3>Work Done:</h3>
<ul>
	<li>Logo</li>
</ul>

<h1 class="day">23rd May 2019</h1>
<img src="s3_20190523.png">
<h3>Work Done:</h3>
<ul>
	<li>Styling of homepage - Colour, Fancy Graphics</li>
</ul>
<h3>Images Sourced:</h3>
<ul>
	<li>https://www.publicdomainpictures.net/pictures/120000/nahled/seamless-carpet-pattern.jpg</li>
</ul>

<h1 class="day">29th July 2019</h1>
<h3>Some Required Features</h3>
<ul>
	<li>Display a homepage</li>
	<li>Select by cinema or by film</li>
	<li>By Cinema: Select cinema, then list available films there</li>
	<li>By Film: List all times in order, and display cinema underneath.</li>
	<li>Data Storage: Films as an Object, Cinemas as an object. Cinema is a parent of films.</li>
	<li></li>
</ul>
<h3>Example Storage</h3>
<pre><code>{
  "sessions": [
    {
      "cinema": 1,
      "film": 1,
      "time": "YYYY-MM-DDZ00:00:00"
    }
  ],
  "cinemas": [
    {
      "name": "Hornsby",
      "address": "01 Main Street,Hornsby,NSW,Australia",
      "rooms": 2
    }
  ],
  "films": [
    {
      "name": "Spiderman: Far From Home",
      "duration": "2h19m",
      "director": "NAME HERE",
      "description": "Really Good Wow!",
      "thumbnail": "IMG_1.png"
    }
  ]
}</code></pre>

<h1 class="day">6th August 2019</h1>
<h3>Work</h3>
<ul>
	<li>HTML seat.</li>
	<li></li>
</ul>

<h1 class="day">12th August 2019</h1>
<h3>Get Sessions Algorithm</h3>
<pre><code>
BEGIN GetSessions
	GET cinema
	GET film
	SET foundSessions = []
	FOR EACH session in list of sessions
		IF session cinema = cinema AND session film = film THEN
			add session to foundSessions
		END IF
	NEXT
	RETURN foundSessions
END
</code></pre>
<h3>Get Taken Seats Algorithm</h3>
<pre><code>
BEGIN GetTakenSeats
	GET sessionSeats
	GET sessionId
	SET takenSeats = []
	FOR EACH seat in sessionSeats
		IF seat session = sessionId THEN
			add seat to takenSeats
		END IF
	NEXT
	RETURN takenSeats
END
</code></pre>

<h3>Data Store</h3>
<pre><code>
Time is stored in 0000: hhmm;
{
	"cinemas": [
		{
			"id": "spx_suburb",
			"name": "Suburb",
			"address": "1 Main Street"
		}
	],
	"films": [
		{
			"id": "film_name"
			"name": "Film: Name",
			"duration": "0000",
			"trailer": "http://trailer.site/042.avi",
			"director": "Name Here",
			"description": "A thriller from the creators of nothing."
		}
	],
	"sessions": [
		{
			"id": "session_1234567890",
			"cinema": "spx_suburb",
			"film": "film_name",
			"time": "1200"
		}
	],
	"bookings": [
		{
			"id": "1234567890"
			"session": "session_1234567890"
			"seat": "A1",
			"name": "Name Here",
			"phone": "1234567890",
			"email": "1234567890",
			"code": "1234567890",
			"date": "YYYY-MM-DD"
		}
	]
}
</code></pre>
<h3>Work</h3>
<p>Created Data File</p>
<p>XHR for AJAX json requests - https://www.w3schools.com/js/js_json_http.asp</p>
<h3>Debugging Debugging Errors</h3>
<img src="s4_20190812.png">
<p>
<strong>Expected: </strong>When visiting a page
that does not exist (such as /maths),
the user should be presented with an error page.
As an initial test, this page displays only a
heading with the error code.
</p><img src="s5_20190812.png"><p>
<strong>Problem: </strong>When a page is displayed,
the browser uses the <code>Content-Type</code> header
to determine the language defining page presentation.
Thus, the above image of the page showing the source
occurs.
</p><img src="s6_20190812.png"><p>
<strong>Cause: </strong>Inspecting the response headers,
the <code>Content-Type</code> header is set to text/plain.
This is ideal when sending basic data or for easily
viewing page data when debugging. But here it means
that the page is not represented in HTML but rather
displays the page markup source.
</p><img src="s7_20190812.png"><p>
<strong>Solution: </strong>To change the
<code>Content-Type</code> header to be
<code>text/html</code>. Now it shows correctly.
</p>
<img src="s8_20190812.png">

<h1 class="day">12th August 2019</h1>
<h3>Implement APIs</h3>
<a href="https://regexr.com/">https://regexr.com/</a>

<h1 class="day">13th August 2019</h1>
<h3>Debugging</h3>
</body>
</html>